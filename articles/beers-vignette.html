<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>beers • beers</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="beers">
<meta property="og:description" content="beers">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">beers</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/beers-vignette.html">beers</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="beers-vignette_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="beers-vignette_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="beers-vignette_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>beers</h1>
                        <h4 class="author">Wes Hinsley</h4>
            
            <h4 class="date">2020-12-09</h4>
      
      
      <div class="hidden name"><code>beers-vignette.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The beers package provides the Beers ordinary and modified methods for interpolating between 5-yearly points, and subdividing 5-yearly agebands. The most likely usage is with demographic data that has been presented at 5-yearly intervals, or in 5-yearly age-bands. The Beers algorithm can be used to interpolate, or subdivide those data respectively, and is notably used by UNWPP for that purpose.</p>
</div>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>The original algorithms were created by Henry S. Beers. I have not been able to locate these papers, but for the ordinary and modified methods respectively, the original papers are:</p>
<ul>
<li>"Discussion of Papers Presented in the Record, No. 68: ‘Six-Term Formulas for Routine Actuarial Interpolation’, Henry. S. Beers, The Record of the American Institute of Actuaries 34, Part I(69): 59-60, June 1945.</li>
<li>“Modified Interpolation Formulas that Minimize Fourth Differences.” Henry S. Beers, The Record of the American Institute of Actuaries 34, Part I(69): 19-29, June 1945.</li>
</ul>
<p>The coefficients are published in:</p>
<ul>
<li>The Methods and Materials of Demography, 2nd Edition, Editors David A. Swanson and Jacob S. Siegel. Appendix C, Selected General Methods, D.H. Judson and Carole L. Popoff. p728-729. [<a href="http://demographybook.weebly.com/uploads/2/7/2/5/27251849/david_a._swanson_jacob_s._siegel_the_methods_and_materials_of_demography_second_edition__2004.pdf" class="uri">http://demographybook.weebly.com/uploads/2/7/2/5/27251849/david_a._swanson_jacob_s._siegel_the_methods_and_materials_of_demography_second_edition__2004.pdf</a>]</li>
</ul>
<p>But note that there are two typos in this edition:</p>
<ul>
<li>p728, Beers Ordinary Interpolation, Middle Interval, N3.0, fourth column should be 0.000, not 1.0000</li>
<li>p729, Beers Modified Interpolation, Last Interval, N5.6, 5th number should be +.8592, not +.8529. (See the symmetrical entry in First Interval, N1.4)</li>
</ul>
</div>
<div id="usage---how" class="section level2">
<h2 class="hasAnchor">
<a href="#usage---how" class="anchor"></a>Usage - how?</h2>
<p>Calling the functions is simple.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/beers_int_ordinary.html">beers_int_ordinary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">16</span>, <span class="fl">32</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1.0000  1.1061  1.2696  1.4780  1.7229  2.0000  2.3092  2.6545  3.0437</span>
<span class="co">#&gt; [10]  3.4879  4.0000  4.5931  5.2791  6.0681  6.9701  8.0000  9.1793 10.5355</span>
<span class="co">#&gt; [19] 12.1007 13.9100 16.0000 18.4083 21.1732 24.3336 27.9291 32.0000</span>
<span class="fu"><a href="../reference/beers_int_ordinary.html">beers_int_modified</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">16</span>, <span class="fl">32</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1.0000  1.1672  1.3435  1.5362  1.7526  2.0000  2.2856  2.6165  3.0003</span>
<span class="co">#&gt; [10]  3.4445  3.9570  4.5464  5.2227  5.9982  6.8887  7.9140  9.0979 10.4676</span>
<span class="co">#&gt; [19] 12.0529 13.8859 16.0000 18.4296 21.2095 24.3746 27.9598 32.0000</span>
<span class="fu"><a href="../reference/beers_sub_ordinary.html">beers_sub_ordinary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">80</span>, <span class="fl">160</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1.061  1.635  2.084  2.449  2.771  3.092  3.453  3.892  4.442  5.121</span>
<span class="co">#&gt; [11]  5.931  6.860  7.890  9.020 10.299 11.793 13.562 15.652 18.093 20.900</span>
<span class="co">#&gt; [21] 24.083 27.649 31.604 35.955 40.709</span>
<span class="fu"><a href="../reference/beers_sub_ordinary.html">beers_sub_modified</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">80</span>, <span class="fl">160</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1.672  1.763  1.927  2.164  2.474  2.856  3.309  3.838  4.442  5.125</span>
<span class="co">#&gt; [11]  5.894  6.763  7.755  8.905 10.253 11.839 13.697 15.853 18.330 21.141</span>
<span class="co">#&gt; [21] 24.296 27.799 31.651 35.852 40.402</span></code></pre></div>
<p>The interpolations require at least 6 points - for example, population in 1950, 1955, 1960, 1965, 1970 and 1975, hence providing 5 panels between the points, in which to interpolate. Subdivisions require at least 5 points to be subdivided - for example, population in age range 0-4, 5-9, 10-14, 15-19, 20-24.</p>
<p>The ordinary algorithms have two particular properties:-</p>
<ul>
<li>For interpolation, all of the original data points (ie, 1950, 1955, 1960…) are unchanged by the algorithm; interpolation occurs between the points.</li>
<li>For subdivision, every subdivided set of 5 populations sums to the original value - (ie, population for ages 5, 6, 7, 8, 9 will sum to give the original 5-9 value.)</li>
</ul>
<p>The modified algorithms cause extra smoothing to be carried out, such that:-</p>
<ul>
<li>For interpolation, only the first and final data point’s values are preserved; the interpolation provides new values for <em>all</em> the intermediate points, including those for which you provided data.</li>
<li>For subdivision, only the first, and the final age-bands have the property that the sub-divided populations sum to the original age-band population.</li>
</ul>
</div>
<div id="usage---why" class="section level2">
<h2 class="hasAnchor">
<a href="#usage---why" class="anchor"></a>Usage - why?</h2>
<p>When writing the package, the purpose was to replicate as exactly as possible algorithms used by UNWPP in their population interpolations, using the exact values given in the published tables. Presumably these figures are truncated from a some function that is possibly documented in the 1945 paper, if only we could find it.</p>
<p>There are other options for interpolation of course, and perhaps the Beers algorithm here is approximately equivalent to one of the interpolation options available in R.</p>
<p><img src="beers-vignette_files/figure-html/ukr_interp-1.png" width="672"><img src="beers-vignette_files/figure-html/ukr_interp-2.png" width="672"> Results are fairly inconclusive. So, it looks like you should use the Beers library if you really specifically want Beers; otherwise, you might as well look into R’s spline function for more flexible and documented options!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Wes Hinsley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
